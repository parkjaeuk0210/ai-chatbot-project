class n{constructor(n){this.container=n,this.element=null,this.isVisible=!1,this.animationInterval=null,this.dots=3,this.currentDot=0,this.init()}init(){this.createElement()}createElement(){if(this.element=document.createElement("div"),this.element.className="typing-indicator hidden",this.element.innerHTML='\n            <div class="flex items-start gap-3 max-w-lg">\n                <div class="w-9 h-9 rounded-full bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center text-white font-bold text-base flex-shrink-0 shadow-md">\n                    AI\n                </div>\n                <div class="typing-bubble bg-white/80 rounded-2xl rounded-tl-none p-3.5 text-sm text-slate-800 shadow-sm">\n                    <div class="typing-dots flex items-center gap-1">\n                        <span class="dot w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 0ms"></span>\n                        <span class="dot w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 150ms"></span>\n                        <span class="dot w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 300ms"></span>\n                    </div>\n                    <span class="sr-only" role="status" aria-live="polite">AI가 응답을 입력하고 있습니다</span>\n                </div>\n            </div>\n        ',!document.querySelector("#typing-indicator-styles")){const n=document.createElement("style");n.id="typing-indicator-styles",n.textContent="\n                .typing-indicator {\n                    transition: opacity 0.3s ease-in-out;\n                    opacity: 1;\n                }\n                \n                .typing-indicator.hidden {\n                    opacity: 0;\n                    pointer-events: none;\n                }\n                \n                .typing-bubble {\n                    min-width: 60px;\n                }\n                \n                @keyframes bounce {\n                    0%, 80%, 100% {\n                        transform: translateY(0);\n                        opacity: 0.4;\n                    }\n                    40% {\n                        transform: translateY(-6px);\n                        opacity: 1;\n                    }\n                }\n                \n                .animate-bounce {\n                    animation: bounce 1.4s infinite;\n                }\n                \n                /* Different typing styles */\n                .typing-wave .dot {\n                    animation: wave 1.4s infinite;\n                }\n                \n                @keyframes wave {\n                    0%, 40%, 100% {\n                        transform: translateY(0) scale(1);\n                    }\n                    20% {\n                        transform: translateY(-8px) scale(1.2);\n                    }\n                }\n                \n                .typing-pulse .dot {\n                    animation: pulse 1.4s infinite;\n                }\n                \n                @keyframes pulse {\n                    0%, 80%, 100% {\n                        opacity: 0.3;\n                        transform: scale(0.8);\n                    }\n                    40% {\n                        opacity: 1;\n                        transform: scale(1.2);\n                    }\n                }\n                \n                .typing-thinking {\n                    position: relative;\n                }\n                \n                .typing-thinking::after {\n                    content: '';\n                    position: absolute;\n                    top: -2px;\n                    right: -2px;\n                    bottom: -2px;\n                    left: -2px;\n                    background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n                    border-radius: inherit;\n                    opacity: 0.3;\n                    animation: rotate 2s linear infinite;\n                    z-index: -1;\n                }\n                \n                @keyframes rotate {\n                    from {\n                        transform: rotate(0deg);\n                    }\n                    to {\n                        transform: rotate(360deg);\n                    }\n                }\n                \n                /* Accessibility - reduce motion */\n                @media (prefers-reduced-motion: reduce) {\n                    .animate-bounce,\n                    .typing-wave .dot,\n                    .typing-pulse .dot {\n                        animation: none;\n                    }\n                    \n                    .typing-thinking::after {\n                        animation: none;\n                        opacity: 0.1;\n                    }\n                }\n            ",document.head.appendChild(n)}}show(n="bounce"){if(this.isVisible)return;this.isVisible=!0,this.container.contains(this.element)||this.container.appendChild(this.element);if(this.element.querySelector(".typing-dots").className="typing-dots flex items-center gap-1 typing-".concat(n),requestAnimationFrame(()=>{this.element.classList.remove("hidden"),this.scrollToBottom()}),"thinking"===n){this.element.querySelector(".typing-bubble").classList.add("typing-thinking")}}hide(){this.isVisible&&(this.isVisible=!1,this.element.classList.add("hidden"),setTimeout(()=>{this.element.parentNode&&!this.isVisible&&this.element.parentNode.removeChild(this.element)},300))}scrollToBottom(){this.container.scrollTo&&this.container.scrollTo({top:this.container.scrollHeight,behavior:"smooth"})}setMessage(n){const t=this.element.querySelector(".typing-bubble");t&&n&&(t.innerHTML='\n                <span class="text-xs text-slate-500">'.concat(n,'</span>\n                <span class="sr-only" role="status" aria-live="polite">').concat(n,"</span>\n            "))}destroy(){this.hide(),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null}}export{n as TypingIndicator,n as default};
